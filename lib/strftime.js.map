{
  "version": 3,
  "sources": ["../src/strftime.js"],
  "sourcesContent": ["\r\nfunction strsplice (a, i, n, b) {\r\n  return a.slice(0, i) + (b || '') + str.slice(i + n)\r\n}\r\n\r\nlet fmt = {\r\n\r\n  // Day\r\n  '%a': /(Sun|Mon|Tue|Wed|Thu|Fri|Sat)/,\r\n  '%A': /(Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/,\r\n  '%d': /(0[1-9]|[12][0-9]|3[01])/, // 01..31\r\n  '%e': /( [1-9]|[12][0-9]|3[01])/, // _1..31\r\n  '%j': /([0-2][0-9]{2}|3[0-5][0-9]|36[0-6])/,\r\n  '%u': /([1-7])/, // 1..7\r\n  '%w': /(0-6)/, // 0..6\r\n\r\n  // Week\r\n  '%U': /(0[0-9]|[1-4][0-9]|5[0-3])/, // 00..53\r\n  '%V': /(0[1-9]|[1-4][0-9]|5[0-3])/, // 01..53\r\n  '%W': /(0[0-9]|[1-4][0-9]|5[0-3])/, // 00..53\r\n\r\n  // Month\r\n  '%b': /(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/,\r\n  '%B': /(January|February|March|April|May|June|July|August|September|October|November|December)/,\r\n  '%h': /(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/,\r\n  '%m': /(0[1-9]|1[0-2])/, // 01..12\r\n\r\n  // Year\r\n  '%C': /([0-9]{2})/, // 00..99\r\n  '%g': /([0-9]{2})/, // 00..99\r\n  '%G': /([0-9]{4})/, // 0000..9999\r\n  '%y': /([0-9]{2})/, // 00..99\r\n  '%Y': /([0-9]{4})/, // 0000..9999\r\n\r\n  // Time\r\n  '%H': /(0[0-9]|1[0-9]|2[0-3])/, // 00..23\r\n  '%k': /( [0-9]|1[0-9]|2[0-3])/, // _0..23\r\n  '%I': /(0[1-9]|1[0-2])/, // 01..12\r\n  '%l': /( [1-9]|1[0-2])/, // _1..12\r\n  '%M': /([0-5][0-9])/, // 00..59\r\n  '%p': /(AM|PM)/,\r\n  '%P': /(am|pm)/,\r\n  '%r': '%I:%M:%S %p',\r\n  '%R': '%H:%M',\r\n  '%S': /([0-5][0-9])/,\r\n  '%T': /%H:%M:%S/,\r\n  '%X': /%H:%M:%S/,\r\n  '%z': /([+-][0-9]{4}|)/,\r\n  '%Z': /([A-Z]+)/,\r\n\r\n  // Time and Date Stamps\r\n  // %c not supported.\r\n  '%D': '%m/%d/%y',\r\n  '%F': '%Y-%m-%d',\r\n  '%s': /([0-9]+)/,\r\n  // %x not supported.\r\n\r\n  // Misc\r\n  '%n': /\\n/,\r\n  '%t': /\\t/,\r\n  '%%': /\\%/\r\n}\r\n\r\n// Maximum format string length.\r\nlet max = 1023\r\n\r\nfunction test_ (f, d) {\r\n  let r = false\r\n\r\n  let i = 0\r\n  let j = 0\r\n  let err = null\r\n\r\n  if (typeof(f) === 'string' && typeof(d) === 'string' && f.length < max) {\r\n    r = true\r\n    while (r && i < f.length && j < d.length) {\r\n      if (f[i] === '%') {\r\n        let t = f.substr(i, 2)\r\n        // console.log('t', t, f, i)\r\n        let u = fmt[t]\r\n        if (u) {\r\n          if (typeof(u) === 'string') {\r\n\r\n            // fmt rule is a string, expand, ie. '%F' -> '%Y-%m-%d'.\r\n            f = strsplice(f, 0, 2, u)\r\n          } else {\r\n            let m = d.substr(j).match(fmt[t])\r\n            if (m) {\r\n              // console.log('matched', t)\r\n              i += 2; j += m[0].length\r\n            } else {\r\n              [ err, r ] = [ new Error(`invalid input for ${t}`), false ]\r\n            }\r\n          }\r\n        } else {\r\n          [ err, r ] = [ new Error(`unknown token ${t}`), false ]\r\n        }\r\n      } else {\r\n        if (f[i] === d[j]) {\r\n          // console.log('++', f[i])\r\n          i++; j++\r\n        } else {\r\n          [ err, r ] = [ new Error(`direct match failed ${f[i]} != ${d[j]}`), false ]\r\n        }\r\n      }\r\n    }\r\n    if (r) {\r\n      if (i !== f.length) {\r\n        [ err, r ] = [ new Error(`invalid extras`), false ]\r\n      }\r\n      if (j !== d.length) {\r\n        [ err, r ] = [ new Error(`not fully matched`), false ]\r\n      }\r\n    }\r\n  }\r\n\r\n  return [ err, r, i, j ]\r\n}\r\n\r\nexport function test (a, b) {\r\n  let [ err, r, i, j ] = test_(a, b)\r\n  return r\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
